{
  "name": "ligo",
  "source": "./ligo.opam",
  "override": {
    "buildEnv": {
      "LD_LIBRARY_PATH": "#{ @opam/hacl-star-raw.lib / 'hacl-star-raw' }"
    },
    "build": ["dune build -p ligo"],
    "dependencies": {
      "@opam/hacl-star-raw": "*",
      "@opam/bls12-381-unix": "*"
    },
    "resolutions": {
      "@opam/ctypes-foreign": {
        "source": "ocamllabs/ocaml-ctypes:ctypes-foreign.opam#0cbd0378b494d6377fd40606433a846736109c22",
        "override": {
          "dependencies": {
            "@opam/ctypes": null
          }
        }
      },
      "@opam/ctypes": {
        "source": "ocamllabs/ocaml-ctypes:ctypes.opam#0cbd0378b494d6377fd40606433a846736109c22",
        "override": {
          "build": [
            ["make", "libffi.config", "ctypes-base", "ctypes-stubs"],
            ["make", "ctypes-foreign"]
          ],
          "dependencies": {
            "@opam/conf-libffi": "esy-ocaml/libffi#c61127dba57b18713039ab9c1892c9f2563e280c"
          }
        }
      },
      "@opam/tezos-rust-libs": {
        "source": "git+https://gitlab.com/tezos/tezos-rust-libs:tezos-rust-libs.opam#7e6517823d2835e2b79e47124f37cdd5f5c13567",
        "override": {
          "build": [
            [
              "C://Users//ulrik//.cargo//bin//cargo",
              "build",
              "--target-dir",
              "target",
              "--release"
            ]
          ]
        }
      },
      "@opam/conf-rust": {
        "source": "no-source:",
        "override": {
          "build": [["true"]]
        }
      },
      "@opam/bls12-381": "git:https://gitlab.com/dannywillems/ocaml-bls12-381.git:bls12-381.opam#2344fee52712730c3936147926ffe8a1f3bcc91c",
      "@opam/bls12-381-gen": "git:https://gitlab.com/dannywillems/ocaml-bls12-381.git:bls12-381-gen.opam#2344fee52712730c3936147926ffe8a1f3bcc91c",
      "@opam/bls12-381-unix": {
        "source": "git:https://gitlab.com/marigold/ocaml-bls12-381.git:bls12-381-unix.opam#72d425b7",
        "override": {
          "buildEnv": {
            "OPAM_SWITCH_PREFIX": "#{ @opam/tezos-rust-libs.install }"
          }
        }
      },
      "@opam/secp256k1-internal": "git:https://gitlab.com/marigold/ocaml-secp256k1-internal.git:secp256k1-internal.opam#45588ff9",
      "@opam/tezos-stdlib": {
        "source": "link:./tezos_8_2",
        "override": {
          "buildsInSource": true,
          "build": [
            ["dune", "build", "-j", "4", "-p", "tezos-stdlib"],
            ["mv", "src/lib_stdlib/tezos-stdlib.install", "./"]
          ],
          "install": [["esy-installer", "./tezos-stdlib.install"]],
          "dependencies": {
            "@opam/dune": "*",
            "@opam/hex": "*",
            "@opam/lwt": "*",
            "@opam/zarith": "*"
          }
        }
      },
      "@opam/tezos-p2p-services": {
        "source": "link:./tezos_8_2",
        "override": {
          "buildsInSource": true,
          "build": [
            ["dune", "build", "-j", "4", "-p", "tezos-p2p-services"],
            ["mv", "src/lib_p2p_services/tezos-p2p-services.install", "./"]
          ],
          "install": [["esy-installer", "./tezos-p2p-services.install"]],
          "dependencies": {
            "@opam/dune": "*",
            "@opam/tezos-base": "*"
          }
        }
      },
      "@opam/tezos-lmdb": "link:./tezos_7_4/ocaml-lmdb/tezos-lmdb.opam",
      "@opam/tezos-stdlib-unix": "link:./tezos_8_2/src/lib_stdlib_unix/tezos-stdlib-unix.opam",
      "@opam/tezos-clic": "link:./tezos_8_2/src/lib_clic/tezos-clic.opam",
      "@opam/tezos-rpc": {
        "source": "link:./tezos_8_2",
        "override": {
          "buildsInSource": true,
          "build": [
            ["dune", "build", "-j", "4", "-p", "tezos-rpc"],
            ["mv", "src/lib_rpc/tezos-rpc.install", "./"]
          ],
          "install": [["esy-installer", "./tezos-rpc.install"]],
          "dependencies": {
            "@opam/dune": "*",
            "@opam/tezos-error-monad": "*",
            "@opam/lwt": "*",
            "@opam/resto": "*",
            "@opam/resto-directory": "*"
          }
        }
      },
      "@opam/tezos-rpc-http": {
        "source": "link:./tezos_8_2",
        "override": {
          "buildsInSource": true,
          "build": [
            ["dune", "build", "-j", "4", "-p", "tezos-rpc-http"],
            ["mv", "src/lib_rpc_http/tezos-rpc-http.install", "./"]
          ],
          "install": [["esy-installer", "./tezos-rpc-http.install"]],
          "dependencies": {
            "@opam/dune": "*",
            "@opam/tezos-base": "*",
            "@opam/lwt": "*",
            "@opam/resto": "*",
            "@opam/resto-directory": "*",
            "@opam/resto-cohttp": "*"
          }
        }
      },
      "@opam/getopt": "ulrikstrid/ocaml-getopt:getopt.opam#645ab74",
      "@opam/tezos-rpc-http-client": "link:./tezos_8_2/src/lib_rpc_http/tezos-rpc-http-client.opam",
      "@opam/tezos-rpc-http-client-unix": "link:./tezos_8_2/src/lib_rpc_http/tezos-rpc-http-client-unix.opam",
      "@opam/tezos-shell-services": "link:./tezos_8_2/src/lib_shell_services/tezos-shell-services.opam",
      "@opam/tezos-storage": "link:./tezos_8_2/src/lib_storage/tezos-storage.opam",
      "@opam/tezos-client-base": "link:./tezos_8_2/src/lib_client_base/tezos-client-base.opam",
      "@opam/tezos-client-base-unix": "link:./tezos_8_2/src/lib_client_base_unix/tezos-client-base-unix.opam",
      "@opam/tezos-client-commands": "link:./tezos_8_2/src/lib_client_commands/tezos-client-commands.opam",
      "@opam/tezos-client-008-PtEdo2Zk": "link:./tezos_8_2/src/proto_008_PtEdo2Zk/lib_client/tezos-client-008-PtEdo2Zk.opam",
      "@opam/tezos-signer-services": "link:./tezos_8_2/src/lib_signer_services/tezos-signer-services.opam",
      "@opam/tezos-signer-backends": "link:./tezos_8_2/src/lib_signer_backends/tezos-signer-backends.opam",
      "@opam/tezos-protocol-environment-packer": "link:./tezos_8_2/src/lib_protocol_environment/tezos-protocol-environment-packer.opam",
      "@opam/tezos-protocol-environment-sigs": "link:./tezos_8_2/src/lib_protocol_environment/tezos-protocol-environment-sigs.opam",
      "@opam/tezos-protocol-environment-structs": "link:./tezos_8_2/src/lib_protocol_environment/tezos-protocol-environment-structs.opam",
      "@opam/tezos-protocol-environment": "link:./tezos_8_2/src/lib_protocol_environment/tezos-protocol-environment.opam",
      "@opam/tezos-shell-context": "link:./tezos_8_2/src/lib_protocol_environment/tezos-shell-context.opam",
      "@opam/tezos-protocol-updater": "link:./tezos_8_2/src/lib_protocol_updater/tezos-protocol-updater.opam",
      "@opam/tezos-mockup": "link:./tezos_8_2/src/lib_mockup/tezos-mockup.opam",
      "@opam/tezos-mockup-registration": "link:./tezos_8_2/src/lib_mockup/tezos-mockup-registration.opam",
      "@opam/tezos-mockup-commands": "link:./tezos_8_2/src/lib_mockup/tezos-mockup-commands.opam",
      "@opam/tezos-p2p": "link:./tezos_8_2/src/lib_p2p/tezos-p2p.opam",
      "@opam/tezos-requester": "link:./tezos_8_2/src/lib_requester/tezos-requester.opam",
      "@opam/tezos-validation": "link:./tezos_8_2/src/lib_validation/tezos-validation.opam",
      "@opam/tezos-shell": "link:./tezos_8_2/src/lib_shell/tezos-shell.opam",
      "@opam/tezos-micheline": {
        "source": "link:./tezos_8_2",
        "override": {
          "buildsInSource": true,
          "build": [
            ["dune", "build", "-j", "4", "-p", "tezos-micheline"],
            ["mv", "src/lib_micheline/tezos-micheline.install", "./"]
          ],
          "install": [["esy-installer", "./tezos-micheline.install"]],
          "dependencies": {
            "@opam/dune": "*",
            "@opam/tezos-error-monad": "*",
            "@opam/lwt": "*",
            "@opam/uutf": "*"
          }
        }
      },
      "@opam/tezos-version": {
        "source": "link:./tezos_8_2",
        "override": {
          "buildsInSource": true,
          "build": [
            ["dune", "build", "-j", "4", "-p", "tezos-version"],
            ["mv", "src/lib_version/tezos-version.install", "./"]
          ],
          "install": [["esy-installer", "./tezos-version.install"]],
          "dependencies": {
            "@opam/dune": "*",
            "@opam/tezos-base": "*"
          }
        }
      },
      "@opam/tezos-workers": {
        "source": "link:./tezos_8_2",
        "override": {
          "buildsInSource": true,
          "build": [
            ["dune", "build", "-j", "4", "-p", "tezos-workers"],
            ["mv", "src/lib_workers/tezos-workers.install", "./"]
          ],
          "install": [["esy-installer", "./tezos-workers.install"]],
          "dependencies": {
            "@opam/dune": "*",
            "@opam/tezos-base": "*"
          }
        }
      },
      "@opam/tezos-base": {
        "source": "link:./tezos_8_2",
        "override": {
          "buildsInSource": true,
          "build": [
            ["dune", "build", "-j", "4", "-p", "tezos-base"],
            ["mv", "src/lib_base/tezos-base.install", "./"]
          ],
          "install": [["esy-installer", "./tezos-base.install"]],
          "dependencies": {
            "@opam/dune": "*",
            "@opam/tezos-crypto": "*",
            "@opam/tezos-micheline": "*",
            "@opam/ptime": "*",
            "@opam/ezjsonm": "*",
            "@opam/ipaddr": "*"
          }
        }
      },
      "@opam/tezos-lwt-result-stdlib": "link:./tezos_8_2/src/lib_lwt_result_stdlib/tezos-lwt-result-stdlib.opam",
      "@opam/tezos-event-logging": "link:./tezos_8_2/src/lib_event_logging/tezos-event-logging.opam",
      "@opam/tezos-error-monad": "link:./tezos_8_2/src/lib_error_monad/tezos-error-monad.opam",
      "@opam/tezos-sapling": {
        "source": "link:./tezos_8_2/src/lib_sapling/tezos-sapling.opam",
        "override": {
          "buildsInSource": true,
          "buildEnvOverride": {
            "OPAM_SWITCH_PREFIX": "#{ @opam/tezos-rust-libs.install }"
          },
          "dependencies": {
            "@opam/tezos-rust-libs": "*"
          }
        }
      },
      "@opam/tezos-protocol-plugin-008-PtEdo2Zk": {
        "source": "link:./tezos_8_2",
        "override": {
          "buildsInSource": true,
          "buildEnvOverride": {
            "OPAM_SWITCH_PREFIX": "#{ @opam/tezos-rust-libs.install }",
            "ESY__DYLD_LIBRARY_PATH": "#{ @opam/hacl-star-raw.lib / 'hacl-star-raw' }"
          },
          "build": [
            [
              "sh",
              "-c",
              "DYLD_LIBRARY_PATH=\"$ESY__DYLD_LIBRARY_PATH\" dune build -j 4 -p tezos-protocol-plugin-008-PtEdo2Zk @install"
            ],
            [
              "mv",
              "src/proto_008_PtEdo2Zk/lib_plugin/tezos-protocol-plugin-008-PtEdo2Zk.install",
              "./"
            ]
          ],
          "install": [
            ["esy-installer", "./tezos-protocol-plugin-008-PtEdo2Zk.install"]
          ],
          "dependencies": {
            "@opam/dune": "*",
            "@opam/tezos-shell": "8.2",
            "@opam/tezos-protocol-008-PtEdo2Zk": "8.2",
            "@opam/tezos-embedded-protocol-008-PtEdo2Zk": "8.2",
            "@opam/bls12-381-unix": "*",
            "@opam/hacl-star-raw": "*",
            "@opam/tezos-rust-libs": "*"
          }
        }
      },
      "@opam/tezos-embedded-protocol-008-PtEdo2Zk": {
        "source": "link:./tezos_8_2",
        "override": {
          "buildsInSource": true,
          "buildEnvOverride": {
            "OPAM_SWITCH_PREFIX": "#{ @opam/tezos-rust-libs.install }",
            "ESY__DYLD_LIBRARY_PATH": "#{ @opam/hacl-star-raw.lib / 'hacl-star-raw' }"
          },
          "build": [
            [
              "sh",
              "-c",
              "DYLD_LIBRARY_PATH=\"$ESY__DYLD_LIBRARY_PATH\" dune build -j 4 -p tezos-embedded-protocol-008-PtEdo2Zk @install"
            ],
            [
              "mv",
              "src/proto_008_PtEdo2Zk/lib_protocol/tezos-embedded-protocol-008-PtEdo2Zk.install",
              "./"
            ]
          ],
          "install": [
            ["esy-installer", "./tezos-embedded-protocol-008-PtEdo2Zk.install"]
          ],
          "dependencies": {
            "@opam/dune": "*",
            "@opam/tezos-base": "8.2",
            "@opam/tezos-protocol-008-PtEdo2Zk": "8.2",
            "@opam/tezos-protocol-compiler": "8.2",
            "@opam/tezos-protocol-updater": "8.2",
            "@opam/bls12-381": "*",
            "@opam/bls12-381-unix": "*",
            "@opam/hacl-star": "*",
            "@opam/hacl-star-raw": "*",
            "@opam/tezos-rust-libs": "*"
          }
        }
      },
      "@opam/tezos-protocol-compiler": {
        "source": "link:./tezos_8_2",
        "override": {
          "buildsInSource": true,
          "buildEnvOverride": {
            "OPAM_SWITCH_PREFIX": "#{ @opam/tezos-rust-libs.install }"
          },
          "build": [
            [
              "dune",
              "build",
              "-j",
              "4",
              "-p",
              "tezos-protocol-compiler",
              "@install"
            ],
            [
              "mv",
              "src/lib_protocol_compiler/tezos-protocol-compiler.install",
              "./"
            ]
          ],
          "install": [["esy-installer", "./tezos-protocol-compiler.install"]],
          "dependencies": {
            "@opam/dune": "*",
            "@opam/ocp-ocamlres": "*",
            "@opam/data-encoding": "*",
            "@opam/tezos-rust-libs": "*",
            "@opam/ctypes": "*",
            "@opam/tezos-error-monad": "*",
            "@opam/ctypes-foreign": "*",
            "@opam/tezos-stdlib": "*",
            "@opam/tezos-crypto": "*",
            "@opam/tezos-protocol-environment": "*",
            "@opam/hacl-star-raw": "*",
            "@opam/bls12-381": "*",
            "@opam/bls12-381-unix": "*"
          }
        }
      },
      "@opam/tezos-protocol-008-PtEdo2Zk-parameters": {
        "source": "link:./tezos_8_2",
        "override": {
          "buildsInSource": true,
          "buildEnvOverride": {
            "OPAM_SWITCH_PREFIX": "#{ @opam/tezos-rust-libs.install }",
            "ESY__DYLD_LIBRARY_PATH": "#{ @opam/hacl-star-raw.lib / 'hacl-star-raw' }"
          },
          "build": [
            [
              "sh",
              "-c",
              "DYLD_LIBRARY_PATH=\"$ESY__DYLD_LIBRARY_PATH\" dune build -j 4 -p tezos-protocol-008-PtEdo2Zk-parameters @install"
            ],
            [
              "mv",
              "src/proto_008_PtEdo2Zk/lib_parameters/tezos-protocol-008-PtEdo2Zk-parameters.install",
              "./"
            ]
          ],
          "install": [
            [
              "esy-installer",
              "./tezos-protocol-008-PtEdo2Zk-parameters.install"
            ]
          ],
          "dependencies": {
            "@opam/dune": "*",
            "@opam/tezos-protocol-008-PtEdo2Zk": "*",
            "@opam/tezos-rust-libs": "*",
            "@opam/tezos-crypto": "*",
            "@opam/hacl-star": "*",
            "@opam/hacl-star-raw": "*"
          }
        }
      },
      "@opam/tezos-protocol-008-PtEdo2Zk": {
        "source": "link:./tezos_8_2",
        "override": {
          "buildsInSource": true,
          "build": [
            [
              "sed",
              "-i.back",
              "-e",
              "s/-nostdlib//g",
              "#{$cur__target_dir}/src/proto_008_PtEdo2Zk/lib_protocol/dune.inc"
            ],
            ["dune", "build", "-p", "tezos-protocol-008-PtEdo2Zk", "-j", "4"],
            [
              "mv",
              "src/proto_008_PtEdo2Zk/lib_protocol/tezos-protocol-008-PtEdo2Zk.install",
              "./"
            ]
          ],
          "install": [
            ["esy-installer", "./tezos-protocol-008-PtEdo2Zk.install"]
          ],
          "dependencies": {
            "@opam/dune": "*",
            "@opam/tezos-protocol-compiler": "*"
          }
        }
      },
      "@opam/tezos-crypto": {
        "source": "link:./tezos_8_2",
        "override": {
          "buildsInSource": true,
          "buildEnvOverride": {
            "OPAM_SWITCH_PREFIX": "#{ @opam/tezos-rust-libs.install }"
          },
          "build": [
            ["dune", "build", "-j", "4", "-p", "tezos-crypto", "@install"],
            ["mv", "src/lib_crypto/tezos-crypto.install", "./"]
          ],
          "install": [["esy-installer", "./tezos-crypto.install"]],
          "dependencies": {
            "@opam/dune": "*",
            "@opam/tezos-rust-libs": "*",
            "@opam/tezos-clic": "*",
            "@opam/tezos-rpc": "*",
            "@opam/bls12-381": "*",
            "@opam/bls12-381-unix": "*",
            "@opam/hacl-star": "*",
            "@opam/secp256k1-internal": "*",
            "@opam/tezos-lwt-result-stdlib": "*",
            "@opam/uecc": ">=0.3",
            "@opam/ringo": "0.5"
          }
        }
      },
      "@opam/tezos-utils": "link:./vendors/ligo-utils/tezos-utils/tezos-utils.opam",
      "@opam/simple-utils": "link:./vendors/ligo-utils/simple-utils/simple-utils.opam",
      "@opam/proto-alpha-utils": "link:./vendors/ligo-utils/proto-alpha-utils/proto-alpha-utils.opam",
      "@opam/tezos-memory-proto-alpha": "link:./vendors/ligo-utils/memory-proto-alpha/tezos-memory-proto-alpha.opam",
      "@opam/ParserLib": "link:./vendors/ParserLib/ParserLib.opam",
      "@opam/LexerLib": "link:./vendors/LexerLib/LexerLib.opam",
      "@opam/UnionFind": "link:./vendors/UnionFind/UnionFind.opam",
      "@opam/RedBlackTrees": "link:./vendors/Red-Black_Trees/RedBlackTrees.opam",
      "@opam/preprocessor": "link:./vendors/Preprocessor/Preprocessor.opam",
      "@opam/conf-libev": "esy-packages/libev#0b5eb6685b688649045aceac55dc559f6f21b829",
      "@opam/conf-gmp": "esy-packages/esy-gmp#e27cb300adfb0c0b320c273082c5affafcd225fa",
      "@opam/bisect_ppx": "aantron/bisect_ppx:bisect_ppx.opam#02dfb10188033a26d07d23480c2bc44a3a670357",
      "@opam/linenoise": {
        "source": "link:./vendors/linenoise/linenoise.opam",
        "override": {
          "buildEnvOverride": {
            "CFLAGS": "-IC:/Users/ulrik/AppData/Roaming/npm/node_modules/@esy-nightly/esy/node_modules/esy-bash/.cygwin/usr/include $CFLAGS"
          }
        }
      },
      "@opam/conf-gmp-powm-sec": {
        "source": "no-source:",
        "override": {
          "build": "true"
        }
      },
      "texinfo": {
        "source": "no-source:",
        "override": {
          "build": "true"
        }
      },
      "@opam/conf-hidapi": {
        "name": "esy-hidapi",
        "version": "0.10.1",
        "description": "A Simple library for communicating with USB and Bluetooth HID devices on Linux, Mac, and Windows",
        "source": "https://github.com/libusb/hidapi/archive/refs/tags/hidapi-0.10.1.tar.gz#sha256:f71dd8a1f46979c17ee521bc2117573872bbf040f8a4750e492271fc141f2644",
        "override": {
          "build": [
            "autoreconf --install --verbose --force",
            [
              "./configure",
              "--prefix=#{self.install}",
              "#{os == 'windows' ? '--host x86_64-w64-mingw32' : ''}"
            ],
            "make LIBTOOL=#{libtool.bin}"
          ],
          "install": "make install",
          "buildEnv": {
            "LT_INIT": "2.4.2",
            "LIBTOOL": "#{libtool.bin}"
          },          
          "buildsInSource": true,
          "dependencies": {
            "autoconf": "esy-packages/esy-autoconf:package.json#fb93edf57b0adc4b27b34a57a562395b224002d3",
            "automake": "esy-packages/esy-automake:package.json#e959059ccc1560a1565b16fb63ed7052c663fca0",
            "libtool": "esy-packages/esy-libtools:package.json#0fe768722d345533f86df32f4de3b6a374160e2e"
          }
        }
      },
      "automake": "esy-packages/esy-automake:package.json#e959059ccc1560a1565b16fb63ed7052c663fca0",
      "autoconf": {
        "source": "esy-packages/esy-autoconf:package.json#fb93edf57b0adc4b27b34a57a562395b224002d3",
        "override": {
          "build": [
            "find ./ -exec touch -t 200905010101 {} +",
            [
              "chmod",
              "755",
              "./configure"
            ],
            [
              "bash",
              "-c",
              "#{os == 'windows' ? './configure --prefix=$cur__install --host x86_64-w64-mingw32' : './configure --prefix=$cur__install'}"
            ],
            [
              "make"
            ],
            [
              "make",
              "install"
            ]
          ]
        }
      },"libtool": {
        "source": "esy-packages/esy-libtools:package.json#0fe768722d345533f86df32f4de3b6a374160e2e",
        "override": {
          "build": [
            "find ./ -exec touch -t 200905010101 {} +",
            [
              "./configure",
              "--prefix=#{self.install}",
              "--disable-dependency-tracking",
              "#{os == 'windows' ? '--host=x86_64-w64-mingw32' : ''}",
              "#{os == 'windows' ? '--target=x86_64-w64-mingw32' : ''}"
            ],
            "bash -c ./files/create-serial.sh",
            "make MAKEINFO=true",
            "make install"
          ]
        }
      },
      "esy-help2man": {
        "source": "esy-packages/esy-help2man:package.json#c8e6931d1dcf58a81bd801145a777fd3b115c443",
        "override": {
          "build":[
            ["chmod", "755", "./configure", "./mkinstalldirs"],
            ["bash", "-c", "#{os == 'windows' ? './configure --prefix=$cur__install --host x86_64-w64-mingw32' : './configure --prefix=$cur__install'}"],
            ["make"],
            ["make", "install"]
          ]
        }
      }
    }
  }
}
